<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Open LiteSpeed Web Serverユーザーズマニュアル - バーチャルホストの基本</title>
  <meta name="description" content="Open LiteSpeed Web Serverユーザーズマニュアル - バーチャルホストの基本." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="../img/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="../css/hdoc.css">
</head>
<body>
<div class="pagewrapper"><div class="sidetree">
<h3>OpenLiteSpeed Web Server <a href="index.html"> ユーザーズマニュアル</a></h3>
<h5>Version 1.4 Rev. 3 </h5>
<hr/>
<div>
<ul class="toctop">
<li><a href="license.html">ライセンス</a></li>
<li><a href="intro.html">はじめに</a></li>
<li><a href="install.html">インストール</a></li>
<li><a href="admin.html">管理</a>
	<ul class="level2"><li><a href="ServerStat_Help.html">サービスマネージャ</a></li></ul></li>
<li><a href="security.html">セキュリティ</a></li>
<li><a href="config.html">設定</a>
	<ul class="level2">
	<li><a href="ServGeneral_Help.html">サーバー全般</a></li>
        <li><a href="ServLog_Help.html">サーバーログ</a></li>
	<li><a href="ServTuning_Help.html">サーバーのチューニング</a></li>
	<li><a href="ServSecurity_Help.html">サーバーのセキュリティ</a></li>
	<li><a href="ExtApp_Help.html">外部アプリ</a></li>
                <ul class="level3">
                <li><a href="External_FCGI.html">Fast CGIアプリ</a></li>
                <li><a href="External_FCGI_Auth.html">Fast CGIオーソライザー</a></li>
                <li><a href="External_LSAPI.html">LSAPIアプリ</a></li>
                <li><a href="External_Servlet.html">サーブレットエンジン</a></li>
                <li><a href="External_WS.html">Webサーバー</a></li>
                <li><a href="External_PL.html">パイプロガー</a></li>
                <li><a href="External_LB.html">ロードバランサ</a></li>
                </ul>
	<li><a href="ScriptHandler_Help.html">スクリプトハンドラ</a></li>
	<li><a href="Rails_Help.html">Rack/Railsの設定</a></li>
	<li><a href="Module_Help.html">モジュール設定</a></li>
	<li><a href="Listeners_General_Help.html">リスナー全般</a></li>
        <li><a href="Listeners_SSL_Help.html">リスナーのSSL</a></li>
	<li><a href="Templates_Help.html">テンプレート</a></li>
	<li><span class="current"><a href="VirtualHosts_Help.html">バーチャルホストの基本</a></span></li>
	<li><a href="VHGeneral_Help.html">バーチャルホスト全般</a></li>
	<li><a href="VHSecurity_Help.html">バーチャルホストのセキュリティ</a></li>
        <li><a href="VHSSL_Help.html">バーチャルホストのSSL</a></li>
	<li><a href="Rewrite_Help.html">Rewrite</a></li>
	<li><a href="Context_Help.html">コンテキスト</a></li>
               <ul class="level3">
                <li><a href="Static_Context.html">静的コンテテキスト</a></li>
                <li><a href="Java_Web_App_Context.html">Java Webアプリのコンテキスト</a></li>
                <li><a href="Servlet_Context.html">サーブレットコンテキスト</a></li>
                <li><a href="FCGI_Context.html">Fast CGIコンテキスト</a></li>
                <li><a href="LSAPI_Context.html">LSAPIコンテキスト</a></li>
                <li><a href="Proxy_Context.html">プロキシコンテキスト</a></li>
                <li><a href="CGI_Context.html">CGIコンテキスト</a></li>
                <li><a href="LB_Context.html">ロードバランサコンテキスト</a></li>
                <li><a href="Redirect_Context.html">コンテキストのリダイレクト</a></li>
                <li><a href="Rails_Context.html">Rack/Railsのコンテキスト</a></li>
                <li><a href="Module_Context.html">モジュールハンドラのコンテキスト</a></li>
                </ul>
	<li><a href="VHWebSocket_Help.html">Web Socketプロキシ</a></li>
	</ul>
</li>
<li><a href="webconsole.html">Webコンソール</a>
        <ul class="level2">
        <li><a href="AdminGeneral_Help.html">管理コンソール全般</a></li>
        <li><a href="AdminSecurity_Help.html">管理コンソールのセキュリティ</a></li>
	<li><a href="AdminListeners_General_Help.html">管理リスナー全般</a></li>
        <li><a href="AdminListeners_SSL_Help.html">管理リスナーのSSL</a></li>
        </ul>
</li>
</ul>
</div></div>
<div class="contentwrapper"><div class="nav-bar"><div class="prev">&#171 <a href="Templates_Help.html">バーチャルホストテンプレート</a></div><div class="center"><a href="config.html">設定</a></div><div class="next"><a href="VHGeneral_Help.html">バーチャルホストの一般</a> &#187;</div></div>
<h1>バーチャルホストの基本</h1><p>このページには、定義されたすべてのバーチャルホストが一覧表示されます。
ここからバーチャルホストを追加/削除したり、既存のバーチャルホストを変更したりすることができます。
バーチャルホストを追加する前に、バーチャルホストのルートディレクトリが存在することを確認してください。</p>
<h4>目次</h4><section class="toc"><section class="toc-row"><header>基本</header><p>
<a href="#vhName">バーチャルホスト名</a>&nbsp;|&nbsp;<a href="#vhRoot">バーチャルホスト Root</a>&nbsp;|&nbsp;<a href="#configFile">設定ファイル</a>&nbsp;|&nbsp;</p></section>
<section class="toc-row"><header>コネクション</header><p>
<a href="#vhMaxKeepAliveReq">最大キープアライブ要求</a>&nbsp;|&nbsp;<a href="#vhSmartKeepAlive">Smartキープアライブ</a>&nbsp;|&nbsp;</p></section>
<section class="toc-row"><header>セキュリティ</header><p>
<a href="#allowSymbolLink">シンボリックリンク参照</a>&nbsp;|&nbsp;<a href="#enableScript">スクリプトを有効にする</a>&nbsp;|&nbsp;<a href="#restrained">拘束された</a>&nbsp;|&nbsp;<a href="#setUidMode">外部アプリ Set UID モード</a>&nbsp;|&nbsp;<a href="#chrootMode">外部アプリ Chroot モード</a>&nbsp;|&nbsp;<a href="#chrootPath">外部アプリ Chroot パス</a>&nbsp;|&nbsp;</p></section>
<section class="toc-row"><header>バーチャルホスト</header><p>
<a href="#staticReqPerSec">静的リクエスト/秒</a>&nbsp;|&nbsp;<a href="#dynReqPerSec">動的リクエスト/秒</a>&nbsp;|&nbsp;<a href="#outBandwidth">送信帯域幅（バイト/秒）</a>&nbsp;|&nbsp;<a href="#inBandwidth">受信帯域幅（バイト/秒）</a>&nbsp;|&nbsp;</p></section>
</section>
<section><div class="helpitem"><a name="vhName"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>バーチャルホスト名<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>バーチャルホストの一意の名前。 バーチャルホストのドメイン名をバーチャルホスト名として使用することをお勧めします。 バーチャルホスト名は、変数$VH_NAMEを使用して参照できます。</p></td></tr> </table> </div>
<div class="helpitem"><a name="vhRoot"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>バーチャルホスト Root<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>バーチャルホストのルートディレクトリを指定します。 注：これはドキュメントのルートではありません<b> NOT </b>です。 このディレクトリの下に、バーチャルホストに関連するすべてのファイル（ログファイル、htmlファイル、CGIスクリプトなど）を置くことをお勧めします。 バーチャルホストルートは、変数$VH_ROOTを使用して参照できます。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>絶対パス又は$SERVER_ROOTからの相対パス。</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[パフォーマンス]さまざまなハードドライブに異なるバーチャルホストを配置します。</p></td></tr> </table> </div>
<div class="helpitem"><a name="configFile"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>設定ファイル<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>このバーチャルホストの設定ファイル名とディレクトリ。 設定ファイルは、$SERVER_ROOT/conf/vhosts/ディレクトリの下になければなりません。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>ファイル名への絶対パス又は$SERVER_ROOTからの相対パス</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>$SERVER_ROOT/conf/vhosts/$VH_NAME/vhconf.confをお勧めします。</p></td></tr> </table> </div>
<div class="helpitem"><a name="vhMaxKeepAliveReq"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>最大キープアライブ要求<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>キープアライブ（永続的）接続を介して提供できる最大要求を特定します。 この制限に達すると接続が閉じられます。 バーチャルホストごとに異なる制限を指定できます。 この数値は、サーバーレベルの<span class="tagl"><a href="ServTuning_Help.html#maxKeepAliveReq">最大キープアライブ要求</a></span>の制限を超えることはできません。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>整数</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[パフォーマンス]合理的に高い値に設定します。 「1」以下の値を指定すると、キープアライブ接続が無効になります。</p></td></tr> <tr><td><span class="ht-label">参照</span><p><span class="tagl"><a href="ServTuning_Help.html#maxKeepAliveReq">最大キープアライブ要求</a></span></p></td></tr> </table> </div>
<div class="helpitem"><a name="vhSmartKeepAlive"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>Smartキープアライブ<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>このバーチャルホストに対してSmart Keep-Aliveを有効にするかどうかを指定します。 このオプションは、<span class="tagl"><a href="ServTuning_Help.html#smartKeepAlive">スマートキープアライブ</a></span>がサーバーレベルで有効で、<span class="tagl"><a href="#vhMaxKeepAliveReq">最大キープアライブ要求</a></span>が1より大きい場合にのみ有効です。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>ラジオボックスから選択</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[パフォーマンス]多忙なWebサイトでこれを有効にします。</p></td></tr> </table> </div>
<div class="helpitem"><a name="allowSymbolLink"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>シンボリックリンク参照<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>このバーチャルホスト内のシンボリックリンクをたどるかどうかを指定します。 <span class="val">IF OWNER MATCH</span>オプションは、同じ所有権を持つ場合にのみシンボリックリンクに従います。 この設定は、デフォルトのサーバーレベルの設定よりも優先されます。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>ドロップダウンリストから選択</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[パフォーマンスとセキュリティ]セキュリティを強化するために、この機能を無効にしてください。 パフォーマンスを向上させるには、有効にします。</p></td></tr> </table> </div>
<div class="helpitem"><a name="enableScript"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>スクリプトを有効にする<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>このバーチャルホストでスクリプティング（非静的ページ）を許可するかどうかを指定します。 無効にすると、CGI、FastCGI、LSAPI、サーブレットエンジン、その他のスクリプト言語はこのバーチャルホストでは許可されません。 このため、スクリプトハンドラを使用する場合は、スクリプトハンドラもここで有効にする必要があります。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>ラジオボックスから選択</p></td></tr> </table> </div>
<div class="helpitem"><a name="restrained"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>拘束された<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>このバーチャルホストのルート（$VH_ROOT）を超えるファイルにこのWebサイトからアクセスできるかどうかを指定します。 <span class="val">はい</span>に設定すると、$VH_ROOT以下のファイルにしかアクセスできず、シンボリックリンクや$VH_ROOTを超えるファイルやディレクトリを指すコンテキストへのアクセスが拒否されます。 しかし、これはCGIスクリプトのアクセシビリティを制限しません。 これは共有ホスティング環境で便利です。 <span class="tagl"><a href="#allowSymbolLink">シンボリックリンク参照</a></span>は、ユーザーが$VH_ROOTでシンボリックリンクを使用できるように<span class="val">はい</span>に設定できます。 $VH_ROOTを超えるものはありません。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>ラジオボックスから選択</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[セキュリティ]共有ホスティング環境で有効にします。</p></td></tr> </table> </div>
<div class="helpitem"><a name="setUidMode"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>外部アプリ Set UID モード<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>外部アプリケーション・プロセスにユーザーIDを設定する方法を指定します。 3つの選択肢があります：  <ul><li><span class="val">サーバー UID</span>: 外部アプリケーション・プロセスのユーザー/グループIDをサーバーのユーザー/グループIDと同じに設定します。</li>     <li><span class="val">CGIファイル UID</span>: 実行可能ファイルのユーザー/グループIDに基づいて、外部CGIプロセスのユーザー/グループIDを設定します。 このオプションは、FastCGIまたはLSPHPではなく、CGIにのみ適用されます。</li>     <li><span class="val">Doc Root UID</span>: 現在のバーチャルホストのドキュメントルートのユーザー/グループIDに基づいて、外部アプリケーションプロセスのユーザー/グループIDを設定します。</li> </ul></p></td></tr> <tr><td><span class="ht-label">構文</span><p>選択</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[セキュリティ]共有ホスティング環境では、<span class="val">CGIファイルUID</span>または<span class="val">DocルートUID</span>モードを使用して、1つのバーチャルホストが所有するファイルに別のバーチャルホストの外部アプリケーションスクリプト。</p></td></tr> </table> </div>
<div class="helpitem"><a name="chrootMode"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>外部アプリ Chroot モード<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>ルートディレクトリが外部アプリケーションプロセスに対してどのように設定されるかを指定します。 機密システム・データ・ファイルが脆弱な外部アプリケーション・スクリプトによってアクセスされるのを防ぐために、新しいルート・ディレクトリ以外のファイルがアクセス不能になるように、外部アプリケーション・プロセス用の代替ルート・パスを設定できます。 これは "chroot jail"と呼ばれます。<br/><br/> 3つの選択肢があります：  <ul><li><span class="val">サーバーと同じ</span>：外部アプリケーションプロセスは、サーバーと同じ刑務所で実行されます。</li>     <li><span class="val">バーチャルホストルート</span>：chroot jailをバーチャルホストのルートディレクトリに設定します。 外部アプリケーションスクリプトは、バーチャルホストルート内のファイルにのみアクセスできます。 </li> 	<li><span class="val">カスタマイズされたChrootパス</span>：以下のchrootパス<span class="tagl"><a href="#chrootPath">外部アプリ Chroot パス</a></span>を指定します。 </li> </ul></p></td></tr> <tr><td><span class="ht-label">構文</span><p>選択</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>chrootを適切に使用すると、外部アプリケーションスクリプトのセキュリティが大幅に強化されますが、chroot jail環境では、外部アプリケーションスクリプトが機能していることを確認する必要があります。</p></td></tr> </table> </div>
<div class="helpitem"><a name="chrootPath"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>外部アプリ Chroot パス<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p><span class="tagl"><a href="#chrootMode">外部アプリ Chroot モード</a></span>が<span class="val">Customized Chroot Path</span>に設定されている場合、現在のホストの外部アプリケーションスクリプトの新しいルートディレクトリを指定します。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>絶対パス。</p></td></tr> </table> </div>
<div class="helpitem"><a name="staticReqPerSec"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>静的リクエスト/秒<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>確立された接続の数に関係なく、1秒間に処理できる単一のIPアドレスからの静的コンテンツへの要求の最大数を指定します。<br/><br/> この制限に達すると、将来のすべての要求は次の秒までタールピットされます。 動的に生成されるコンテンツのリクエスト制限は、この制限とは関係ありません。 クライアントごとの要求制限は、サーバーまたはバーチャルホストレベルで設定できます。 バーチャルホストレベルの設定は、サーバーレベルの設定よりも優先されます。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>整数</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[セキュリティ]信頼できるIPまたはサブネットワークは影響を受けません。</p></td></tr> <tr><td><span class="ht-label">参照</span><p><span class="tagl"><a href="#dynReqPerSec">動的リクエスト/秒</a></span></p></td></tr> </table> </div>
<div class="helpitem"><a name="dynReqPerSec"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>動的リクエスト/秒<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>確立された接続の数に関係なく、1秒ごとに処理できる単一のIPアドレスからの動的に生成されるコンテンツへの要求の最大数を指定します。 この制限に達すると、今後のすべての動的コンテンツへのリクエストは、次の秒までタールピットされます。 <br/><br/> 静的コンテンツの要求制限は、この制限とは関係ありません。 このクライアントごとの要求制限は、サーバーまたはバーチャルホストレベルで設定できます。 バーチャルホストレベルの設定は、サーバーレベルの設定よりも優先されます。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>整数</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[セキュリティ]この制限によって、信頼できるIPまたはサブネットワークは制限されません。</p></td></tr> <tr><td><span class="ht-label">参照</span><p><span class="tagl"><a href="#staticReqPerSec">静的リクエスト/秒</a></span></p></td></tr> </table> </div>
<div class="helpitem"><a name="outBandwidth"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>送信帯域幅（バイト/秒）<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>確立された接続の数に関係なく、単一のIPアドレスへの最大の送信スループット。 実際の帯域幅は効率上の理由からこの設定よりわずかに高くなることがあります。 帯域幅は4KB単位で割り当てられます。 スロットルを無効にするには、<span class="val">0</span>に設定します。 クライアント単位の帯域幅制限（バイト/秒）は、バーチャルホストレベルの設定がサーバーレベルの設定を上回るサーバーまたはバーチャルホストレベルで設定できます。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>整数</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[パフォーマンス]パフォーマンスを向上させるため、帯域幅を8KB単位で設定します。.<br/><br/> [セキュリティ]信頼できるIPまたはサブネットワークは影響を受けません。</p></td></tr> <tr><td><span class="ht-label">参照</span><p><span class="tagl"><a href="#inBandwidth">受信帯域幅（バイト/秒）</a></span></p></td></tr> </table> </div>
<div class="helpitem"><a name="inBandwidth"></a><table width="100%" class="ht" border="0" cellpadding="5" cellspacing="0"> <tr class="ht-title"><td><div>受信帯域幅（バイト/秒）<span class="top"><a href="#top"><img border=0 height=13 width=13 alt="Go to top" src="../img/top.gif"></a></span></div></p></td></tr> <tr><td><span class="ht-label">説明</span><p>確立された接続の数に関係なく、単一のIPアドレスからの最大許容着信スループット。 実際の帯域幅は効率上の理由からこの設定よりわずかに高くなることがあります。 帯域幅は1KB単位で割り当てられます。 スロットルを無効にするには、<span class="val">0</span>に設定します。 クライアント単位の帯域幅制限（バイト/秒）は、バーチャルホストレベルの設定がサーバーレベルの設定を上回るサーバーまたはバーチャルホストレベルで設定できます。</p></td></tr> <tr><td><span class="ht-label">構文</span><p>整数</p></td></tr> <tr><td><span class="ht-label">ヒント</span><p>[セキュリティ]信頼できるIPまたはサブネットワークは影響を受けません。</p></td></tr> <tr><td><span class="ht-label">参照</span><p><span class="tagl"><a href="#outBandwidth">送信帯域幅（バイト/秒）</a></span></p></td></tr> </table> </div>
</section>
</div><footer class="copyright">Copyright &copy; 2013-2017. <a href="https://www.litespeedtech.com">LiteSpeed Technologies Inc.</a> All rights reserved.</footer>
</div>
</body>
</html>