$.root_=$("body");$.intervalArr=[];var calc_navbar_height=function(){var b=null;if($("#header").length){b=$("#header").height()}if(b===null){b=$('<div id="header"></div>').height()}if(b===null){return 49}return b},navbar_height=calc_navbar_height,shortcut_dropdown=$("#shortcut"),bread_crumb=$("#ribbon ol.breadcrumb"),thisDevice=null,ismobile=(/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())),jsArray={},initApp=(function(b){b.addDeviceType=function(){if(!ismobile){$.root_.addClass("desktop-detected");thisDevice="desktop";return false}else{$.root_.addClass("mobile-detected");thisDevice="mobile"}};b.SmartActions=function(){var a={userLogout:function(e){$.SmartMessageBox({title:"<i class='fa fa-sign-out txt-color-orangeDark'></i> Logout <span class='txt-color-orangeDark'><strong>"+$("#show-shortcut").text()+"</strong></span> ?",content:e.data("logout-msg"),buttons:"[No][Yes]"},function(c){if(c=="Yes"){$.root_.addClass("animated fadeOutUp");setTimeout(f,1000)}});function f(){window.location=e.attr("href")}},launchFullscreen:function(d){if(!$.root_.hasClass("full-screen")){$.root_.addClass("full-screen");if(d.requestFullscreen){d.requestFullscreen()}else{if(d.mozRequestFullScreen){d.mozRequestFullScreen()}else{if(d.webkitRequestFullscreen){d.webkitRequestFullscreen()}else{if(d.msRequestFullscreen){d.msRequestFullscreen()}}}}}else{$.root_.removeClass("full-screen");if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}},minifyMenu:function(d){if(!$.root_.hasClass("menu-on-top")){$.root_.toggleClass("minified");$.root_.removeClass("hidden-menu");$("html").removeClass("hidden-menu-mobile-lock");d.effect("highlight",{},500)}},toggleMenu:function(){if(!$.root_.hasClass("menu-on-top")){$("html").toggleClass("hidden-menu-mobile-lock");$.root_.toggleClass("hidden-menu");$.root_.removeClass("minified")}else{if($.root_.hasClass("menu-on-top")&&$.root_.hasClass("mobile-view-activated")){$("html").toggleClass("hidden-menu-mobile-lock");$.root_.toggleClass("hidden-menu");$.root_.removeClass("minified")}}},toggleShortcut:function(){if(shortcut_dropdown.is(":visible")){e()}else{f()}shortcut_dropdown.find("a").click(function(c){c.preventDefault();window.location=$(this).attr("href");setTimeout(e,300)});$(document).mouseup(function(c){if(!shortcut_dropdown.is(c.target)&&shortcut_dropdown.has(c.target).length===0){e()}});function e(){shortcut_dropdown.animate({height:"hide"},300,"easeOutCirc");$.root_.removeClass("shortcut-on")}function f(){shortcut_dropdown.animate({height:"show"},200,"easeOutCirc");$.root_.addClass("shortcut-on")}}};$.root_.on("click",'[data-action="userLogout"]',function(e){var f=$(this);a.userLogout(f);e.preventDefault();f=null});$.root_.on("click",'[data-action="launchFullscreen"]',function(d){a.launchFullscreen(document.documentElement);d.preventDefault()});$.root_.on("click",'[data-action="minifyMenu"]',function(e){var f=$(this);a.minifyMenu(f);e.preventDefault();f=null});$.root_.on("click",'[data-action="toggleMenu"]',function(d){a.toggleMenu();d.preventDefault()});$.root_.on("click",'[data-action="toggleShortcut"]',function(d){a.toggleShortcut();d.preventDefault()})};b.leftNav=function(){if(!null){$("nav ul").jarvismenu({accordion:true,speed:menu_speed,closedSign:'<em class="fa fa-plus-square-o"></em>',openedSign:'<em class="fa fa-minus-square-o"></em>'})}else{alert("Error - menu anchor does not exist")}};b.domReadyMisc=function(){if($("[rel=tooltip]").length){$("[rel=tooltip]").tooltip()}$(document).mouseup(function(a){if(!$(".ajax-dropdown").is(a.target)&&$(".ajax-dropdown").has(a.target).length===0){$(".ajax-dropdown").fadeOut(150);$(".ajax-dropdown").prev().removeClass("active")}});$("button[data-btn-loading]").on("click",function(){var a=$(this);a.button("loading");setTimeout(function(){a.button("reset")},3000);$this=null})};return b})({});initApp.addDeviceType();jQuery(document).ready(function(){initApp.SmartActions();initApp.leftNav();initApp.domReadyMisc()});(function(r,p,v){var x=r([]),t=r.resize=r.extend(r.resize,{}),o,m="setTimeout",n="resize",u=n+"-special-event",w="delay",s="throttleWindow";t[w]=throttle_delay;t[s]=true;r.event.special[n]={setup:function(){if(!t[s]&&this[m]){return false}var a=r(this);x=x.add(a);try{r.data(this,u,{w:a.width(),h:a.height()})}catch(b){r.data(this,u,{w:a.width,h:a.height})}if(x.length===1){q()}},teardown:function(){if(!t[s]&&this[m]){return false}var a=r(this);x=x.not(a);a.removeData(u);if(!x.length){clearTimeout(o)}},add:function(a){if(!t[s]&&this[m]){return false}var b;function c(d,h,g){var f=r(this),e=r.data(this,u);e.w=h!==v?h:f.width();e.h=g!==v?g:f.height();b.apply(this,arguments)}if(r.isFunction(a)){b=a;return c}else{b=a.handler;a.handler=c}}};function q(){o=p[m](function(){x.each(function(){var e;var a;var d=r(this),c=r.data(this,u);try{e=d.width()}catch(b){e=d.width}try{a=d.height()}catch(b){a=d.height}if(e!==c.w||a!==c.h){d.trigger(n,[c.w=e,c.h=a])}});q()},t[w])}})(jQuery,this);$("#main").resize(function(){if($(window).width()<979){$.root_.addClass("mobile-view-activated");$.root_.removeClass("minified")}else{if($.root_.hasClass("mobile-view-activated")){$.root_.removeClass("mobile-view-activated")}}});var ie=(function(){var h,f=3,g=document.createElement("div"),e=g.getElementsByTagName("i");while(g.innerHTML="<!--[if gt IE "+(++f)+"]><i></i><![endif]-->",e[0]){}return f>4?f:h}());$.fn.extend({jarvismenu:function(f){var g={accordion:"true",speed:200,closedSign:"[+]",openedSign:"[-]"},e=$.extend(g,f),h=$(this);h.find("li").each(function(){if($(this).find("ul").size()!==0){$(this).find("a:first").append("<b class='collapse-sign'>"+e.closedSign+"</b>");if($(this).find("a:first").attr("href")=="#"){$(this).find("a:first").click(function(){return false})}}});h.find("li.active").each(function(){$(this).parents("ul").slideDown(e.speed);$(this).parents("ul").parent("li").find("b:first").html(e.openedSign);$(this).parents("ul").parent("li").addClass("open")});h.find("li a").click(function(){if($(this).parent().find("ul").size()!==0){if(e.accordion){if(!$(this).parent().find("ul").is(":visible")){parents=$(this).parent().parents("ul");visible=h.find("ul:visible");visible.each(function(b){var a=true;parents.each(function(c){if(parents[c]==visible[b]){a=false;return false}});if(a){if($(this).parent().find("ul")!=visible[b]){$(visible[b]).slideUp(e.speed,function(){$(this).parent("li").find("b:first").html(e.closedSign);$(this).parent("li").removeClass("open")})}}})}}if($(this).parent().find("ul:first").is(":visible")&&!$(this).parent().find("ul:first").hasClass("active")){$(this).parent().find("ul:first").slideUp(e.speed,function(){$(this).parent("li").removeClass("open");$(this).parent("li").find("b:first").delay(e.speed).html(e.closedSign)})}else{$(this).parent().find("ul:first").slideDown(e.speed,function(){$(this).parent("li").addClass("open");$(this).parent("li").find("b:first").delay(e.speed).html(e.openedSign)})}}})}});jQuery.fn.doesExist=function(){return jQuery(this).length>0};function loadScript(h,g){if(!jsArray[h]){jsArray[h]=true;var f=document.getElementsByTagName("body")[0],e=document.createElement("script");e.type="text/javascript";e.src=h;e.onload=g;f.appendChild(e)}else{if(g){g()}}}if($.navAsAjax){if($("nav").length){checkURL()}$(document).on("click",'nav a[href!="#"]',function(c){c.preventDefault();var d=$(c.currentTarget);if(!d.attr("target")){if(!d.parent().hasClass("active")){if($.root_.hasClass("mobile-view-activated")){$.root_.removeClass("hidden-menu");$("html").removeClass("hidden-menu-mobile-lock");window.setTimeout(function(){if(window.location.search){window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+d.attr("href")}else{window.location.hash=d.attr("href")}},150)}else{if(window.location.search){window.location.href=window.location.href.replace(window.location.search,"").replace(window.location.hash,"")+"#"+d.attr("href")}else{window.location.hash=d.attr("href")}}}else{if(window.location.hash!=d.attr("href")){window.location.hash=d.attr("href")}}}d=null});$(document).on("click",'nav a[target="_blank"]',function(c){c.preventDefault();var d=$(c.currentTarget);window.open(d.attr("href"))});$(document).on("click",'nav a[target="_top"]',function(c){c.preventDefault();var d=$(c.currentTarget);window.location=(d.attr("href"))});$(document).on("click",'nav a[href="#"]',function(b){b.preventDefault()});$(window).on("hashchange",function(){checkURL()})}function checkURL(){var o=location.href.indexOf("#");var p=location.href.indexOf("_");if(p==-1){p=location.href.indexOf("&")}var i=location.href.split("#").splice(1).join("#");if(!i){try{var m=window.document.URL;if(m){if(m.indexOf("#",0)>0&&m.indexOf("#",0)<(m.length+1)){i=m.substring(m.indexOf("#",0)+1)}}}catch(n){}}var j=i;if(o!=-1&&p!=-1){j=location.href.substring(o+1,p)}container=$("#content");if(i){$("nav li.active").removeClass("active");$('nav li:has(a[href="'+j+'"])').addClass("active");var k=($('nav a[href="'+j+'"]').attr("title"));document.title=(k||document.title);loadURL(i+location.search,container)}else{var l=$('nav > ul > li:first-child > a[href!="#"]');window.location.hash=l.attr("href");l=null}}function loadURL(c,d){$.ajax({type:"GET",url:c,dataType:"html",cache:true,beforeSend:function(){if($.navAsAjax&&$(".dataTables_wrapper")[0]&&(d[0]==$("#content")[0])){var a=$.fn.dataTable.fnTables(true);$(a).each(function(){$(this).dataTable().fnDestroy()})}if($.navAsAjax&&$.intervalArr.length>0&&(d[0]==$("#content")[0])){while($.intervalArr.length>0){clearInterval($.intervalArr.pop())}}pagefunction=null;d.removeData();if(d[0]==$("#content")[0]){$("body").find("> *").filter(":not("+ignore_key_elms+")").empty().remove();drawBreadCrumb();$("html").animate({scrollTop:0},"fast")}},success:function(a){if(a=='{"login_timeout":1}'){window.location.href="/login.php?timedout=1"}else{d.css({opacity:"0.0"}).html(a).delay(50).animate({opacity:"1.0"},300);a=null;d=null}},error:function(a,f,b){d.html('<h4 class="ajax-loading-error"><i class="fa fa-warning txt-color-orangeDark"></i> Error 404! Page not found.</h4>')},async:true})}function drawBreadCrumb(){var c=$("nav li.active > a"),d=c.length;bread_crumb.empty();bread_crumb.append($("<li>Home</li>"));c.each(function(){bread_crumb.append($("<li></li>").html($.trim($(this).clone().children(".badge").remove().end().text())));if(!--d){document.title=bread_crumb.find("li:last-child").text()}});c=null}function lst_conf(j,g,i,h){if(j){$("input[name=a]").val(j)}if(g){$("input[name=p]").val(g)}if(i){$("input[name=t]").val((i=="-")?"":i)}if(h){$("input[name=r]").val((h=="-")?"":h)}if(j=="v"&&g!=""&&i=="-"&&h=="-"){var a=window.location.hash.indexOf("&p=");if(a==-1){window.location.hash+="&p="+g}else{if(g!=window.location.hash.substring(a+3)){window.location.hash=window.location.hash.substring(0,a+3)+g}}return}$.ajax({type:"POST",url:"view/confMgr.php",data:$("#confform").serialize(),dataType:"html",beforeSend:function(){if($.navAsAjax&&$(".dataTables_wrapper")[0]&&(container[0]==$("#content")[0])){var b=$.fn.dataTable.fnTables(true);$(b).each(function(){$(this).dataTable().fnDestroy()})}pagefunction=null;$("#content").removeData()},success:function(b){if(b=='{"login_timeout":1}'){window.location.href="/login.php?timedout=1"}else{$("#content").html(b);b=null;pageSetUp()}},error:function(c,b,d){$("#content").html('<h4 class="ajax-loading-error"><i class="fa fa-warning txt-color-orangeDark"></i> Error 404! Page not found.</h4>')},})}function lst_ctxseq(b){$("#confform").prepend('<input type="hidden" name="ctxseq" value="'+b+'">');lst_conf()}function lst_refreshFooterTime(){$("#lst_UpdateStamp").text(new Date().toLocaleString())}function lst_createFile(a){$("#confform").prepend('<input type="hidden" name="file_create" value="'+a+'">');lst_conf("s")}function refresh_load(){var b=$("#sparks");if(b.length){$.ajax({url:"view/ajax_data.php?id=pid_load",type:"GET",dataType:"json",success:function(a){if(a.hasOwnProperty("login_timeout")){window.location.href="/login.php?timedout=1"}else{b.find("#lst-pid").text(a.pid);b.find("#lst-load").text(a.serverload);lst_refreshFooterTime();setTimeout(refresh_load,60000)}}})}}setTimeout(refresh_load,60000);function pageSetUp(){if(thisDevice==="desktop"){$("[rel=tooltip]").tooltip();$("[rel=popover]").popover();$("[rel=popover-hover]").popover({trigger:"hover"})}else{$("[rel=popover]").popover();$("[rel=popover-hover]").popover({trigger:"hover"})}$("#lst-lang").find("li").on("click",function(b){$.ajax({type:"POST",url:"view/serviceMgr.php",data:{act:"lang",actId:$(this).data("lang")},success:function(){location.reload(true)}})});lst_refreshFooterTime()}$("body").on("click",function(b){$('[rel="popover"]').each(function(){if(!$(this).is(b.target)&&$(this).has(b.target).length===0&&$(".popover").has(b.target).length===0){$(this).popover("hide")}})});